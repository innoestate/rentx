<div #nzTrigger nz-dropdown
    [nzTrigger]="triggerType()"
    (nzVisibleChange)="onVisibleChange($event)"
    test-selector="ui-nested-dropdown-trigger"
    [nzDropdownMenu]="menu">
    <ui-label [value]="fixedHeadValue()?? displayedValue"></ui-label>
</div>
<nz-dropdown-menu #menu="nzDropdownMenu">
  <ul nz-menu nzSelectable>
    @for(item of list(); track item){
      @if(isDropdown(item)){
        <li test-selector="ui-nested-dropdown-item"
            nz-menu-item><ui-nested-dropdown
            [value]="item"
            triggerType="hover"
            (onSelect)="clickOnItem($event)"
            [list]="item.value">
            </ui-nested-dropdown>
        </li>
      }@else{
        <li [ngStyle]="{ 'color': item.color + ' !important' }"
            test-selector="ui-nested-dropdown-item"
            nz-menu-item
            (click)="clickOnItem(item)">
              @if(item.icon){
                <div nz-icon
                    [nzType]="item.icon"
                    [ngStyle]="{ 'color': item.color + ' !important' }"
                    class="icon icon-list"
                    [class.icon-with-text]="iconWithText(item)"
                    nzTheme="fill"></div>
              }
            {{ item.label }}
        </li>
      }
    }
  </ul>
</nz-dropdown-menu>